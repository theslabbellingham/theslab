<!DOCTYPE html>
<html>
<head>

<title>THE SLAB</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">
<link rel="stylesheet" href="styles/style.css">

<style>
@font-face {
  font-family: DIN;
  src: url(fonts/DINAlternate-Bold.ttf);
}

@font-face {
  font-family: shree;
  src: url(fonts/shree-devanagari-714.ttf);
}

body {
  font-family: DIN;
  margin: 0;
  padding: 0;
  background-color: #fff8e1;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Global link colors */
a:link, a:visited, a:hover, a:active {
  color: #1f2d50;
  background-color: transparent;
  text-decoration: none;
}

a:hover, a:active {
  text-decoration: underline;
}

/* Border styling */
.left-border,
.right-border {
  position: fixed;
  top: 0;
  height: 100vh;
  width: 4vw; /* scalable */
  min-width: 15px;
  max-width: 30px;
  background-repeat: repeat-y;
  background-size: contain;
  z-index: 1000;
}

.left-border {
  left: 0;
  background-image: url('images/Border Pattern L.png');
}

.right-border {
  right: 0;
  background-image: url('images/Border Pattern R.png');
}

.content {
  margin: 0 4vw;
  padding: 5vw 2vw;
  max-width: 1000px;
}

/* Book animation */
.book {
  width: 80vw;
  max-width: 350px;
  aspect-ratio: 2 / 3;
  perspective: 2000px;
}

.cover {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transform-origin: left center;
  transition: transform 1.2s ease;
  cursor: pointer;
}

.book:hover .cover {
  transform: rotateY(-140deg);
}

/* Mobile tap flip */
.book.flipped .cover {
  transform: rotateY(-140deg);
}

.front,
.inner-page {
  width: 100%;
  height: 100%;
  position: absolute;
  backface-visibility: hidden;
  border: 2px solid #333;
  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);
}

.front {
  background-image: url('images/THE SLAB-1.png');
  background-size: cover;
  background-position: center;
  z-index: 2;
}

.inner-page {
  background-color: #FEFEFB;
  transform: rotateY(180deg);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
  color: #333;
}

/* Vertical menu (desktop) */
.final-vertical-menu {
  position: fixed;
  top: 50%;
  left: calc(4vw + 10px);
  transform: rotate(-90deg) translateX(-50%);
  transform-origin: top left;
  display: flex;
  flex-direction: row;
  gap: 34px;
  z-index: 1100;
}

.final-vertical-menu a {
  font-size: 20px;
  font-family: DIN, sans-serif;
  color: #1f2d50;
  text-decoration: none;
  white-space: nowrap;
}

.final-vertical-menu a:hover {
  text-decoration: underline;
}

.final-vertical-menu a.active {
  background-color: #1f2d50;
  color: #fff8e1;
  padding: 4px 8px;
}

/* Logo scaling */
img[alt="slab logo"] {
  width: 400px;
  height: auto;
  max-width: 100%;
}

/* Responsive adjustments for mobile */
@media (max-width: 768px) {
  .final-vertical-menu {
    position: static;
    transform: none;
    flex-direction: row;
    justify-content: center;
    gap: 15px;
    padding: 10px;
  }

  .final-vertical-menu a {
    font-size: 16px;
  }

  .left-border, .right-border {
    display: none;
  }

  body {
    flex-direction: column;
    align-items: center;
  }

  .content {
    margin: 0;
    padding: 20px;
  }
}
</style>

</head>

<body>

<!-- Borders -->
<div class="left-border"></div>
<div class="right-border"></div>

<!-- Rotated menu -->
<div class="final-vertical-menu">
  <a href="pages/archive.html">ARCHIVE</a>
  <a href="pages/about.html">ABOUT</a>
  <a href="pages/featured posters.html">FEATURED POSTERS</a>
  <a href="pages/venues.html">VENUES</a>
  <a href="pages/slab calendar.html">CAL</a>
  <a href="index.html">HOME</a>
</div>

<!-- Main content -->
<div class="content">
  <center><img src="images/Slab Copy.png" alt="slab logo"></center>
  <br><br>
  <center><div style="font-size: 20pt;">LATEST ISSUE:</div></center>
  <br><br>
  <center>
    <a href="pages/slab calendar.html" class="book-link">
      <div class="book">
        <div class="cover">
          <div class="front"></div>
          <div class="inner-page">Click to view</div>
        </div>
      </div>
    </a>
  </center>

  <br><br>
  <center><a href="../index.html">HOME</a> | <a href="../pages/venues.html">VENUES</a></center>
  <br>
</div>

<script>
  // Highlight active menu link
  const currentPath = window.location.pathname.split("/").pop();
  document.querySelectorAll(".final-vertical-menu a").forEach(link => {
    const linkPath = link.getAttribute("href").split("/").pop();
    if (linkPath === currentPath) {
      link.classList.add("active");
    }
  });

  // Mobile flip-on-tap
  const bookLink = document.querySelector('.book-link');
  const book = document.querySelector('.book');
  let flippedOnce = false;

  if (window.matchMedia("(max-width: 768px)").matches) {
    bookLink.addEventListener('click', function(e) {
      if (!flippedOnce) {
        e.preventDefault(); // stop immediate navigation
        book.classList.toggle('flipped');
        flippedOnce = true;
        // reset after 3s if no second tap
        setTimeout(() => flippedOnce = false, 3000);
      }
    });
  }
</script>

</body>
</html>
